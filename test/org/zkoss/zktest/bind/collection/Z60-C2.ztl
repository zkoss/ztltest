<test tags="zbind">
	<case id="c2">
		<server><!--
<zk>
    <vbox apply="org.zkoss.bind.BindComposer" viewModel="@id('vm') @init('org.zkoss.zktest.bind.viewmodel.collection.C2')">
        <label multiline="true">
        c2.
        1. delete row entry with button one by one.
        </label>
    
        <listbox model="@bind(vm.fruitList)">
            <template name="model" var="f">
                <listitem>
                    <listcell label="@bind(f)"></listcell>
                    <listcell><button  label="Delete" onClick="@command('delete', index=self.parent.parent.index)" /></listcell>
                </listitem>
            </template>

        </listbox>
    </vbox>
</zk>
		--></server>
		<client>
				
				click(jq("@button").first());
				waitResponse();
				assertEquals(jq("@button").length(), 4);
				
				click(jq("@button").first());
				waitResponse();
				assertEquals(jq("@button").length(), 3);
				
				click(jq("@button").first());
				waitResponse();
				assertEquals(jq("@button").length(), 2);
												
				click(jq("@button").first());
				waitResponse();
				assertEquals(jq("@button").length(), 1);
								
				click(jq("@button").first());
				waitResponse();
				assertEquals(jq("@button").exists(), false);
				
		</client>
	</case>
</test>